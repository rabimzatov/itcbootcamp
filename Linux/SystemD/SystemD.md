# SystemD

## –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä

### 1. **systemd ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä —Å–ª—É–∂–±**

- **–°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** ‚Äî —ç—Ç–æ –ø–µ—Ä–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —è–¥—Ä–∞ Linux.
- **–ú–µ–Ω–µ–¥–∂–µ—Ä —Å–ª—É–∂–±** ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫, –æ—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ñ–æ–Ω–µ (–¥–µ–º–æ–Ω–æ–≤).

–ü—Ä–∏–º–µ—Ä: –∫–æ–≥–¥–∞ –≤—ã –≤–∫–ª—é—á–∞–µ—Ç–µ —Å–µ—Ä–≤–µ—Ä, systemd —Ä–µ—à–∞–µ—Ç, –∫–æ–≥–¥–∞ —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å `sshd`, `nginx`, `docker`, —á—Ç–æ–±—ã –æ–Ω–∏ –±—ã–ª–∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ.

---

### 2. **–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º (PID 1) –ø–æ—Å–ª–µ —è–¥—Ä–∞**

- –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —è–¥—Ä–æ Linux –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–≤–æ—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é, –æ–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç **–æ–¥–Ω—É –ø—Ä–æ–≥—Ä–∞–º–º—É**, —É–∫–∞–∑–∞–Ω–Ω—É—é –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `init=` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `/sbin/init`, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è symlink –Ω–∞ systemd).
- –£ systemd –≤—Å–µ–≥–¥–∞ PID = 1, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
    - –û–Ω "—Ä–æ–¥–∏—Ç–µ–ª—å" –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ.
    - –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å "–æ—Å–∏—Ä–æ—Ç–µ–ª", systemd –µ–≥–æ –ø–æ–¥–±–µ—Ä—ë—Ç –∏ –∑–∞–≤–µ—Ä—à–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

```bash
ps -p 1 -o comm=

```

---

### 3. **–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–ø—É—Å–∫ —Å–ª—É–∂–± –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã**

- systemd —á–∏—Ç–∞–µ—Ç –Ω–∞–±–æ—Ä **unit-—Ñ–∞–π–ª–æ–≤** (–æ–ø–∏—Å–∞–Ω–∏—è —Å–ª—É–∂–± –∏ –∑–∞–¥–∞—á).
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ, –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –∏ —Å –∫–∞–∫–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å.
- –≠—Ç–æ –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ä—ã–µ `rc.local` –∏ —Å–∫—Ä–∏–ø—Ç—ã `/etc/init.d/`.

---

### 4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –º–µ–∂–¥—É —Å–ª—É–∂–±–∞–º–∏**

- –°–ª—É–∂–±—ã —á–∞—Å—Ç–æ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.
    
    –ü—Ä–∏–º–µ—Ä:
    
    - `nginx` —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã —Å–µ—Ç—å –±—ã–ª–∞ –ø–æ–¥–Ω—è—Ç–∞ (`network.target`).
    - `docker` —Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ `containerd`.
- systemd —Å—Ç—Ä–æ–∏—Ç **–≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å—ë –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

---

### 5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ journald**

- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–±–æ—Ä—â–∏–∫ –ª–æ–≥–æ–≤ **systemd-journald** —Å–æ–±–∏—Ä–∞–µ—Ç stdout/stderr –≤—Å–µ—Ö —Å–ª—É–∂–±.
- –õ–æ–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∏–Ω–∞—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –≤ `/var/log/journal/`.
- –ü—Ä–æ—Å–º–æ—Ç—Ä:

```bash
journalctl -u nginx

```

- –≠—Ç–æ —É–±–∏—Ä–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ª–æ–≥-—Ñ–∞–π–ª–∞—Ö –¥–ª—è –∫–∞–∂–¥–æ–π —Å–ª—É–∂–±—ã –Ω–∞ —Å—Ç–∞—Ä—Ç–µ.

---

### 6. **–ü—Ä–∏—à—ë–ª –Ω–∞ —Å–º–µ–Ω—É SysVinit –∏ Upstart**

- **SysVinit** ‚Äî —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥, –∑–∞–ø—É—Å–∫–∞–ª —Å–∫—Ä–∏–ø—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–º–µ–¥–ª–µ–Ω–Ω–æ).
- **Upstart** ‚Äî —Å–æ–±—ã—Ç–∏–µ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π init (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ Ubuntu –¥–æ 15.04).
- **systemd**:
    - –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–ª—É–∂–±—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.
    - –£–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.
    - –í–∫–ª—é—á–∞–µ—Ç –±–æ–ª—å—à–µ —Ñ—É–Ω–∫—Ü–∏–π (—Ç–∞–π–º–µ—Ä—ã, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–µ—Ç–∏).

---

## –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä

### 1. **Unit ‚Äî –±–∞–∑–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

- **Unit** ‚Äî —ç—Ç–æ **–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª**, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π, –∫–∞–∫ systemd –¥–æ–ª–∂–Ω–∞ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞–∫–∏–º-—Ç–æ —Ä–µ—Å—É—Ä—Å–æ–º: —Å–ª—É–∂–±–æ–π, —Ç–∞–π–º–µ—Ä–æ–º, –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, —Å–æ–∫–µ—Ç–æ–º –∏ —Ç.–¥.
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∏–ø —é–Ω–∏—Ç–∞:
    - `.service` ‚Äî —Å–ª—É–∂–±–∞ (–¥–µ–º–æ–Ω –∏–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å)
    - `.timer` ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
    - `.mount` ‚Äî –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    - `.target` ‚Äî –Ω–∞–±–æ—Ä —é–Ω–∏—Ç–æ–≤
    - `.socket` ‚Äî —Å–µ—Ç–µ–≤–æ–π –∏–ª–∏ UNIX-—Å–æ–∫–µ—Ç
    - `.device` ‚Äî —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
    - –∏ –¥—Ä.

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ —é–Ω–∏—Ç–æ–≤:**

```bash
systemctl list-units

```

---

### 2. **–°–ª—É–∂–±—ã (service)**

- –≠—Ç–æ **–¥–µ–º–æ–Ω—ã** –∏–ª–∏ **–ø—Ä–æ–≥—Ä–∞–º–º—ã**, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ñ–æ–Ω–µ.
- –ü—Ä–∏–º–µ—Ä: `nginx.service`, `sshd.service`, `docker.service`.
- –Æ–Ω–∏—Ç `.service` –æ–ø–∏—Å—ã–≤–∞–µ—Ç:
    - –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å (`ExecStart=`).
    - –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ (`ExecStop=`).
    - –ö–∞–∫ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏ —Å–±–æ–µ (`Restart=`).

**–ü—Ä–∏–º–µ—Ä:**

```bash
sudo systemctl start nginx
sudo systemctl enable nginx

```

---

### 3. **–¢–∞–π–º–µ—Ä—ã (timer)**

- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ **cron**, –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤ systemd.
- –ü–æ–∑–≤–æ–ª—è—é—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–ª—É–∂–±—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.
- `.timer` –≤—Å–µ–≥–¥–∞ —Å–≤—è–∑–∞–Ω —Å `.service`.
- –ü—Ä–∏–º–µ—Ä: `backup.timer` ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç `backup.service` —Ä–∞–∑ –≤ –¥–µ–Ω—å.

**–ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã:**

```bash
sudo systemctl list-timers

```

---

### 4. **–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (mount)**

- –Æ–Ω–∏—Ç—ã `.mount` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–æ–Ω—Ç–∏—Ä—É—é—Ç —Ñ–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã.
- –ú–æ–≥—É—Ç –∑–∞–º–µ–Ω—è—Ç—å –∑–∞–ø–∏—Å–∏ –≤ `/etc/fstab`.
- –ò–º—è —é–Ω–∏—Ç–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∏–∑ –ø—É—Ç–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
    - `/mnt/data` ‚Üí `mnt-data.mount`

**–ü—Ä–∏–º–µ—Ä:**

```bash
sudo systemctl start mnt-data.mount

```

---

### 5. **Target ‚Äî –≥—Ä—É–ø–ø—ã —é–Ω–∏—Ç–æ–≤**

- **Target** ‚Äî —ç—Ç–æ **—Å–±–æ—Ä–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —é–Ω–∏—Ç–æ–≤**, —á—Ç–æ–±—ã –∑–∞–ø—É—Å–∫–∞—Ç—å –∏—Ö –≤–º–µ—Å—Ç–µ.
- –ê–Ω–∞–ª–æ–≥ —Å—Ç–∞—Ä—ã—Ö **runlevels**:
    - `multi-user.target` ‚Äî –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (—Å–µ—Ä–≤–µ—Ä).
    - `graphical.target` ‚Äî —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.
- –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ target'—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è DevOps-–æ–∫—Ä—É–∂–µ–Ω–∏–π.

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**

```bash
systemctl get-default

```

---

## –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä

### 1. **/etc/systemd/system** ‚Äî —é–Ω–∏—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

- –ó–¥–µ—Å—å –ª–µ–∂–∞—Ç **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ** –∏–ª–∏ **–∫–∞—Å—Ç–æ–º–Ω—ã–µ** unit-—Ñ–∞–π–ª—ã.
- –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–ª—É–∂–±—ã, **–Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª** –≤ `/usr/lib/systemd/system`, –∞ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ —Å—é–¥–∞.
- –õ—é–±–æ–π —Ñ–∞–π–ª –∑–¥–µ—Å—å **–ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç** –æ–¥–Ω–æ–∏–º—ë–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ `/usr/lib/systemd/system`.
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: systemd –≤—Å–µ–≥–¥–∞ —Å–º–æ—Ç—Ä–∏—Ç –≤ `/etc/systemd/system` –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å.

**–ü—Ä–∏–º–µ—Ä:**

```bash
sudo cp /usr/lib/systemd/system/nginx.service /etc/systemd/system/
sudo nano /etc/systemd/system/nginx.service
sudo systemctl daemon-reload

```

---

### 2. **/run/systemd/system** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —é–Ω–∏—Ç—ã

- –°–æ–∑–¥–∞—é—Ç—Å—è **–≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã**.
- –û–±—ã—á–Ω–æ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –∏–ª–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏.
- **–ñ–∏–≤—É—Ç —Ç–æ–ª—å–∫–æ –¥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏**.
- –ü—Ä–∏–º–µ—Ä: systemd —Å–æ–∑–¥–∞—ë—Ç –∑–¥–µ—Å—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ override-—Ñ–∞–π–ª—ã –¥–ª—è —Å–ª—É–∂–±, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É:

```bash
sudo systemctl edit nginx

```

- –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

---

### 3. **/usr/lib/systemd/system** ‚Äî —é–Ω–∏—Ç—ã –ø–∞–∫–µ—Ç–æ–≤

- –°—é–¥–∞ —Å—Ç–∞–≤—è—Ç—Å—è unit-—Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏–¥—É—Ç –≤–º–µ—Å—Ç–µ —Å –ø–∞–∫–µ—Ç–∞–º–∏ (—á–µ—Ä–µ–∑ `apt`, `dnf`, `yum`).
- –≠—Ç–∏ —Ñ–∞–π–ª—ã **–Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é**, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–∞–∫–µ—Ç–∞ –æ–Ω–∏ –±—É–¥—É—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ã.
- –°–æ–¥–µ—Ä–∂–∞—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–ª—É–∂–±—ã, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ `/etc/systemd/system`.

---

### –ö–∞–∫ systemd –≤—ã–±–∏—Ä–∞–µ—Ç —é–Ω–∏—Ç

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–∏—Å–∫–∞ –¥–ª—è `–∏–º—è_—é–Ω–∏—Ç–∞`:

1. `/etc/systemd/system/–∏–º—è_—é–Ω–∏—Ç–∞`
2. `/run/systemd/system/–∏–º—è_—é–Ω–∏—Ç–∞`
3. `/usr/lib/systemd/system/–∏–º—è_—é–Ω–∏—Ç–∞`

---

---

## –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä

### 1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª—É–∂–±—É**

```bash
sudo systemctl start nginx

```

- –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–ª—É–∂–±—É **–ø—Ä—è–º–æ —Å–µ–π—á–∞—Å**.
- –ù–µ –≤–∫–ª—é—á–∞–µ—Ç –µ—ë –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã.
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏–ª–∏ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞.

---

### 2. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª—É–∂–±—É**

```bash
sudo systemctl stop nginx

```

- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–ª—É–∂–±—É, –µ—Å–ª–∏ –æ–Ω–∞ –∑–∞–ø—É—â–µ–Ω–∞.
- –ù–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ ‚Äî –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–ª—É–∂–±–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –º–æ–∂–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å, –µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω `enable`.

---

### 3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª—É–∂–±—É**

```bash
sudo systemctl restart nginx

```

- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç, –∞ –∑–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–ª—É–∂–±—É –∑–∞–Ω–æ–≤–æ.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –µ—ë –±–µ–∑ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã.

---

### 4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å**

```bash
systemctl status nginx

```

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
    - –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (active, inactive, failed).
    - –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ª–æ–≥–æ–≤.
    - PID –∏ –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É.
- –ï—Å–ª–∏ —Å–ª—É–∂–±–∞ —É–ø–∞–ª–∞, —Ç—É—Ç –∂–µ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –ø—Ä–∏—á–∏–Ω—É (–∏–Ω–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10‚Äì20 —Å—Ç—Ä–æ–∫).

---

### 5. **–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫**

```bash
sudo systemctl enable nginx

```

- –°–æ–∑–¥–∞—ë—Ç —Å–∏–º–ª–∏–Ω–∫ –Ω–∞ unit-—Ñ–∞–π–ª —Å–ª—É–∂–±—ã –≤ –∫–∞—Ç–∞–ª–æ–≥ target'–∞, —á—Ç–æ–±—ã —Å–ª—É–∂–±–∞ —Å—Ç–∞—Ä—Ç–æ–≤–∞–ª–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ.
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–≥—Ä—É–∑–∫–µ**, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `-now`.

–ü—Ä–∏–º–µ—Ä —Å—Ä–∞–∑—É —Å –∑–∞–ø—É—Å–∫–æ–º:

```bash
sudo systemctl enable --now nginx

```

---

### 6. **–û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫**

```bash
sudo systemctl disable nginx

```

- –£–¥–∞–ª—è–µ—Ç —Å–∏–º–ª–∏–Ω–∫, —á—Ç–æ–±—ã —Å–ª—É–∂–±–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª–∞—Å—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.
- –ù–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–ª—É–∂–±—É, –µ—Å–ª–∏ –æ–Ω–∞ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–∞ ‚Äî –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `stop`.

---

üí° **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è DevOps:**

- **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–∫–ª—é—á—ë–Ω –ª–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫**:

```bash
systemctl is-enabled nginx

```

- **–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö —Å–ª—É–∂–±**:

```bash
systemctl list-units --type=service --state=running

```

---

---

## –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä

### 1. **–ß—Ç–æ —Ç–∞–∫–æ–µ target**

- **Target** ‚Äî —ç—Ç–æ **–≥—Ä—É–ø–ø–∞ —é–Ω–∏—Ç–æ–≤ systemd**, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã.
- –ê–Ω–∞–ª–æ–≥ —Å—Ç–∞—Ä—ã—Ö **runlevels** –∏–∑ SysVinit:
    - runlevel 3 ‚âà `multi-user.target`
    - runlevel 5 ‚âà `graphical.target`
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç:
    - –ö–∞–∫–∏–µ —Å–ª—É–∂–±—ã –∏ –¥–µ–º–æ–Ω—ã —Å—Ç–∞—Ä—Ç—É—é—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ.
    - –ï—Å—Ç—å –ª–∏ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –æ–±–æ–ª–æ—á–∫–∞ –∏–ª–∏ —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Å–æ–ª—å.
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ GUI-–¥–∏—Å–ø–ª–µ–π –º–µ–Ω–µ–¥–∂–µ—Ä (`gdm`, `lightdm` –∏ —Ç.–¥.).

---

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞**

```bash
systemctl get-default

```

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç target, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—ë–Ω **–ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–≥—Ä—É–∑–∫–µ**.
- –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
multi-user.target

```

---

### 3. **–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º**

```bash
sudo systemctl set-default graphical.target

```

- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.
- –°—Ç–∞—Ä—Ç—É–µ—Ç **–¥–∏—Å–ø–ª–µ–π-–º–µ–Ω–µ–¥–∂–µ—Ä** (–Ω–∞–ø—Ä–∏–º–µ—Ä, GDM, LightDM).
- –û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Ä–∞–±–æ—á–∏—Ö —Å—Ç–∞–Ω—Ü–∏—è—Ö –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞—Ö, –≥–¥–µ –Ω—É–∂–µ–Ω GUI.

---

### 4. **–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º**

```bash
sudo systemctl set-default multi-user.target

```

- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –≤ –º–Ω–æ–≥–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º **–±–µ–∑ GUI**.
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è:
    - –°–µ—Ä–≤–µ—Ä–æ–≤ (–≤ —Ç–æ–º —á–∏—Å–ª–µ DevOps –∏ CI/CD-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã).
    - –≠–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤.
    - –£–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ SSH.

---

### 5. **–û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è default)**

```bash
sudo systemctl isolate graphical.target
sudo systemctl isolate multi-user.target

```

- –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç target –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.
- –ù–µ –º–µ–Ω—è–µ—Ç default target –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–≥—Ä—É–∑–∫–∏.

---

### 6. **–ü–æ—á–µ–º—É DevOps –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç multi-user.target**

- –°–µ—Ä–≤–µ—Ä—ã —Ä–µ–¥–∫–æ –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.
- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º:
    - –ë—ã—Å—Ç—Ä–µ–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è.
    - –ú–µ–Ω—å—à–µ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å–æ–≤.
    - –ú–µ–Ω—å—à–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞.

---

## –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä

### 1. **–ß—Ç–æ —Ç–∞–∫–æ–µ journald**

- **systemd-journald** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ª–æ–≥-–¥–µ–º–æ–Ω systemd.
- –°–æ–±–∏—Ä–∞–µ—Ç:
    - –í—ã–≤–æ–¥ stdout/stderr —Å–ª—É–∂–±.
    - –°–æ–æ–±—â–µ–Ω–∏—è —è–¥—Ä–∞.
    - –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (`syslog`).
- –õ–æ–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **–±–∏–Ω–∞—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ**:
    - `/run/log/journal/` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ (—Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ).
    - `/var/log/journal/` ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞–º–∏).
- –î–æ—Å—Ç—É–ø –∫ –ª–æ–≥–∞–º ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è root –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≥—Ä—É–ø–ø—ã `systemd-journal`.

---

### 2. **–í—Å–µ –ª–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã**

```bash
journalctl

```

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∂—É—Ä–Ω–∞–ª —Å–æ –≤—Å–µ—Ö —Å–ª—É–∂–±.
- –ú–æ–∂–Ω–æ –ª–∏—Å—Ç–∞—Ç—å –ø–æ `PgUp` / `PgDn`.
- –í—ã—Ö–æ–¥ ‚Äî `q`.

---

### 3. **–õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–ª—É–∂–±—ã**

```bash
journalctl -u nginx

```

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç `nginx.service`.
- –ü–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø—Ä–∏—á–∏–Ω—É —Å–±–æ—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.

---

### 4. **–õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**

```bash
journalctl -f

```

- –ê–Ω–∞–ª–æ–≥ `tail -f`, –Ω–æ –¥–ª—è journald.
- –ú–æ–∂–Ω–æ —Å–æ–≤–º–µ—â–∞—Ç—å —Å `u`:

```bash
journalctl -u nginx -f

```

---

### 5. **–õ–æ–≥–∏ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥**

```bash
journalctl -u nginx --since "10 min ago"
journalctl --since "2025-08-24 10:00" --until "2025-08-24 10:30"

```

- –£–¥–æ–±–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ—Å–ª–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

---

### 6. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã**

- **–ü–æ —É—Ä–æ–≤–Ω—é –≤–∞–∂–Ω–æ—Å—Ç–∏**:

```bash
journalctl -p err     # —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
journalctl -p warning # –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

```

- **–ü–æ —è–¥—Ä—É**:

```bash
journalctl -k

```

---

### 7. **–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è DevOps**

- –ù–µ—Ç –Ω—É–∂–¥—ã –∏—Å–∫–∞—Ç—å –ª–æ–≥–∏ –ø–æ —Ä–∞–∑–Ω—ã–º —Ñ–∞–π–ª–∞–º –≤ `/var/log`.
- –£–¥–æ–±–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å.
- –ú–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞.

---

---

## –ü—Ä–∞–∫—Ç–∏–∫–∞: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É–∂–±–æ–π nginx —á–µ—Ä–µ–∑ systemd

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nginx (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
sudo apt update && sudo apt install nginx -y      # Debian/Ubuntu
sudo yum install nginx -y                         # CentOS/RHEL
sudo dnf install nginx -y                         # Fedora

```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–∞–∫–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

```bash
nginx -v

```

---

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª—É–∂–±—É nginx

```bash
sudo systemctl start nginx

```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

```bash
systemctl status nginx

```

–í —Å—Ç–∞—Ç—É—Å–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **active (running)**.

---

### 3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —Å–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
sudo systemctl stop nginx
systemctl status nginx   # –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å inactive (dead)

sudo systemctl start nginx
systemctl status nginx   # —Å–Ω–æ–≤–∞ active (running)

```

---

### 4. –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

```bash
sudo systemctl enable nginx

```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–∫–ª—é—á—ë–Ω –ª–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫:

```bash
systemctl is-enabled nginx

```

üí° –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –∏ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
sudo systemctl enable --now nginx

```

---

### 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —á–µ—Ä–µ–∑ journalctl

- **–í—Å–µ –ª–æ–≥–∏ —Å–ª—É–∂–±—ã**:

```bash
journalctl -u nginx

```

- **–í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**:

```bash
journalctl -u nginx -f

```

- **–¢–æ–ª—å–∫–æ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç**:

```bash
journalctl -u nginx --since "5 min ago"

```

---

### 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å nginx

–û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://<IP_—Å–µ—Ä–≤–µ—Ä–∞>

```

–∏–ª–∏ —á–µ—Ä–µ–∑ `curl`:

```bash
curl -I http://localhost

```

–í –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ –∫–æ–¥ `200 OK`.

---

---

## –û—à–∏–±–∫–∏ –∏ –Ω—é–∞–Ω—Å—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å systemd

### 1. –ï—Å–ª–∏ —Å–ª—É–∂–±–∞ –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç ‚Äî —Å–º–æ—Ç—Ä–µ—Ç—å `journalctl -xe`

- **–ó–∞—á–µ–º:** `systemctl status` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Ç–∫–∏–π —Å—Ç–∞—Ç—É—Å –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–∞—Ä—É —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤.
    
    `journalctl -xe` –¥–∞—ë—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å —Ü–≤–µ—Ç–æ–º, –≤—Ä–µ–º–µ–Ω–µ–º –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏.
    
- **–ü—Ä–∏–º–µ—Ä:**

```bash
sudo systemctl start nginx
# –û—à–∏–±–∫–∞:
# Job for nginx.service failed because the control process exited with error code.

sudo journalctl -xe
# ...
# nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)

```

- **–í—ã–≤–æ–¥:** –ø–æ—Ä—Ç 80 —É–∂–µ –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º. –ù–∞–¥–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥.

---

### 2. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫–∞—Ç–∞–ª–æ–≥–æ–≤ `/etc/systemd/system` –∏ `/usr/lib/systemd/system`

- –Æ–Ω–∏—Ç—ã (service-—Ñ–∞–π–ª—ã) –º–æ–≥—É—Ç –ª–µ–∂–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö:
    - `/usr/lib/systemd/system` ‚Äî –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Ç –ø–∞–∫–µ—Ç–∞ (nginx, sshd –∏ —Ç.–¥.).
    - `/etc/systemd/system` ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç **–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** –Ω–∞–¥ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏.
- **–ü—Ä–∏–º–µ—Ä:**
    - –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ nginx ‚Äî systemd –ø–æ–ª–æ–∂–∏–ª —é–Ω–∏—Ç –≤ `/usr/lib/systemd/system/nginx.service`.
    - –í—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—É—Ç—å –∫ PID-—Ñ–∞–π–ª—É) ‚Äî —Å–æ–∑–¥–∞—ë—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –∏–ª–∏ override –≤ `/etc/systemd/system/nginx.service`.
- **–í–∞–∂–Ω–æ:** systemd –≤—Å–µ–≥–¥–∞ —Å–Ω–∞—á–∞–ª–∞ —Å–º–æ—Ç—Ä–∏—Ç –≤ `/etc/systemd/system`. –ï—Å–ª–∏ —Ç–∞–º –µ—Å—Ç—å —é–Ω–∏—Ç ‚Äî –æ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—è–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π.

---

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —é–Ω–∏—Ç–µ ‚Äî `sudo systemctl daemon-reload`

- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è service-—Ñ–∞–π–ª–∞ systemd **–Ω–µ —á–∏—Ç–∞–µ—Ç –µ–≥–æ –∑–∞–Ω–æ–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**.
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫:**

```bash
sudo nano /etc/systemd/system/nginx.service   # –≤–Ω–µ—Å–ª–∏ –ø—Ä–∞–≤–∫–∏
sudo systemctl daemon-reload                  # –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏
sudo systemctl restart nginx                  # –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª—É–∂–±—É

```

- **–ë–µ–∑ reload** systemd –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é —é–Ω–∏—Ç–∞, –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ–∞–π–ª –∏–∑–º–µ–Ω—ë–Ω.

---

üí° –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:

1. –ú–µ–Ω—è—é—Ç —é–Ω–∏—Ç –∏ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å–∫–∞—é—Ç `systemctl restart` –±–µ–∑ `daemon-reload` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è.
2. –°–æ–∑–¥–∞—é—Ç override, –Ω–æ –∑–∞–±—ã–≤–∞—é—Ç, —á—Ç–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É `/etc/systemd/system`, –∏ –ø—Ä–∞–≤—è—Ç –Ω–µ —Ç–æ—Ç —Ñ–∞–π–ª.
3. –ò—â—É—Ç –ø—Ä–∏—á–∏–Ω—É –ø–∞–¥–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ —á–µ—Ä–µ–∑ `systemctl status`, –Ω–æ —Ç–∞–º –ª–æ–≥ –æ–±—Ä–µ–∑–∞–Ω ‚Äî –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ `journalctl -xe`.

---